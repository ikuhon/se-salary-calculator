<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEÂπ¥ÂèéË®∫Êñ≠„ÉÑ„Éº„É´ | „Ç∑„Çπ„ÉÜ„É†„Ç®„É≥„Ç∏„Éã„Ç¢„ÅÆÈÅ©Ê≠£Âπ¥Âèé„ÇíË®∫Êñ≠</title>
    <meta name="description" content="„ÅÇ„Å™„Åü„ÅÆ„Çπ„Ç≠„É´„ÉªÁµåÈ®ìÂπ¥Êï∞„ÉªÂú∞Âüü„Åã„ÇâÈÅ©Ê≠£Âπ¥Âèé„ÇíË®∫Êñ≠„ÄÇSE„ÅÆÂ∏ÇÂ†¥‰æ°ÂÄ§„ÇíÂÆ¢Ë¶≥ÁöÑ„Å´Ë©ï‰æ°„Åó„ÄÅËª¢ËÅ∑„ÉªÂπ¥Âèé„Ç¢„ÉÉ„Éó„ÅÆÂèÇËÄÉ„Å´„ÄÇ">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .step {
            margin-bottom: 40px;
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .step.active {
            opacity: 1;
        }

        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .step-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #3498db;
        }

        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .radio-option {
            position: relative;
        }

        .radio-option input {
            position: absolute;
            opacity: 0;
        }

        .radio-option label {
            display: block;
            padding: 15px 20px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .radio-option input:checked + label {
            border-color: #3498db;
            background: linear-gradient(135deg, #ebf3fd, #d6eaf8);
            color: #2980b9;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .checkbox-option {
            position: relative;
        }

        .checkbox-option input {
            position: absolute;
            opacity: 0;
        }

        .checkbox-option label {
            display: block;
            padding: 12px 15px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .checkbox-option input:checked + label {
            border-color: #2ecc71;
            background: linear-gradient(135deg, #eafaf1, #d5f4e6);
            color: #27ae60;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(149, 165, 166, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #3498db, #2ecc71);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .result-container {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .result-container.show {
            display: block;
        }

        .salary-result {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .salary-result::before {
            content: 'üí∞';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 100px;
            opacity: 0.1;
        }

        .salary-amount {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .salary-range {
            font-size: 18px;
            opacity: 0.9;
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .detail-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid;
        }

        .detail-card.experience {
            border-left-color: #3498db;
        }

        .detail-card.skills {
            border-left-color: #e74c3c;
        }

        .detail-card.location {
            border-left-color: #f39c12;
        }

        .detail-card.workstyle {
            border-left-color: #9b59b6;
        }

        .detail-title {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .detail-content {
            font-size: 14px;
            color: #7f8c8d;
            line-height: 1.6;
        }

        .advice-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .advice-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .advice-content {
            font-size: 14px;
            line-height: 1.8;
            opacity: 0.9;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .share-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .share-btn:hover {
            transform: translateY(-2px);
        }

        .share-twitter {
            background: #1da1f2;
        }

        .share-facebook {
            background: #4267b2;
        }

        .share-line {
            background: #06c755;
        }

        .restart-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            margin: 20px auto;
            display: block;
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .radio-group {
                grid-template-columns: 1fr;
            }
            
            .salary-amount {
                font-size: 36px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ SEÂπ¥ÂèéË®∫Êñ≠„ÉÑ„Éº„É´</h1>
            <p>„ÅÇ„Å™„Åü„ÅÆ„Çπ„Ç≠„É´„ÉªÁµåÈ®ì„ÉªÂú∞Âüü„Åã„ÇâÈÅ©Ê≠£Âπ¥Âèé„ÇíË®∫Êñ≠„Åó„Åæ„Åô</p>
        </div>

        <div class="main-content">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <!-- Step 1: Âü∫Êú¨ÊÉÖÂ†± -->
            <div class="step active" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">Âü∫Êú¨ÊÉÖÂ†±</div>
                </div>

                <div class="form-group">
                    <label class="form-label">ÁµåÈ®ìÂπ¥Êï∞</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="experience" value="0-2" id="exp1">
                            <label for="exp1">0-2Âπ¥<br><small>Êñ∞‰∫∫„ÉªÈßÜ„ÅëÂá∫„Åó</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="experience" value="3-5" id="exp2">
                            <label for="exp2">3-5Âπ¥<br><small>‰∏≠Â†Ö„Ç®„É≥„Ç∏„Éã„Ç¢</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="experience" value="6-10" id="exp3">
                            <label for="exp3">6-10Âπ¥<br><small>„Ç∑„Éã„Ç¢„Ç®„É≥„Ç∏„Éã„Ç¢</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="experience" value="11+" id="exp4">
                            <label for="exp4">11Âπ¥‰ª•‰∏ä<br><small>„Ç®„Ç≠„Çπ„Éë„Éº„Éà</small></label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ÂÉç„ÅçÊñπ</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="ses" id="work1">
                            <label for="work1">SES<br><small>ÂÆ¢ÂÖàÂ∏∏Èßê</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="sier" id="work2">
                            <label for="work2">SIer<br><small>„Ç∑„Çπ„ÉÜ„É†ÈñãÁô∫‰ºöÁ§æ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="internal" id="work3">
                            <label for="work3">Á§æÂÜÖSE<br><small>‰∫ãÊ•≠‰ºöÁ§æ„ÅÆITÈÉ®ÈñÄ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="freelance" id="work4">
                            <label for="work4">„Éï„É™„Éº„É©„É≥„Çπ<br><small>Áã¨Á´ã„ÉªÊ•≠ÂãôÂßîË®ó</small></label>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <div></div>
                    <button class="btn btn-primary" onclick="nextStep()">Ê¨°„Å∏</button>
                </div>
            </div>

            <!-- Step 2: „Çπ„Ç≠„É´ -->
            <div class="step" id="step2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">ÊäÄË°ì„Çπ„Ç≠„É´</div>
                </div>

                <div class="form-group">
                    <label class="form-label">ÂæóÊÑè„Å™ÊäÄË°ìÂàÜÈáéÔºàË§áÊï∞ÈÅ∏ÊäûÂèØÔºâ</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="frontend" id="skill1">
                            <label for="skill1">üñ•Ô∏è „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="backend" id="skill2">
                            <label for="skill2">‚öôÔ∏è „Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="infrastructure" id="skill3">
                            <label for="skill3">üèóÔ∏è „Ç§„É≥„Éï„É©„Éª„ÇØ„É©„Ç¶„Éâ</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="mobile" id="skill4">
                            <label for="skill4">üì± „É¢„Éê„Ç§„É´„Ç¢„Éó„É™</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="ai" id="skill5">
                            <label for="skill5">ü§ñ AI„ÉªÊ©üÊ¢∞Â≠¶Áøí</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="security" id="skill6">
                            <label for="skill6">üîí „Çª„Ç≠„É•„É™„ÉÜ„Ç£</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="pm" id="skill7">
                            <label for="skill7">üìä „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÁÆ°ÁêÜ</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="data" id="skill8">
                            <label for="skill8">üìà „Éá„Éº„ÇøÂàÜÊûê</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">‰∏ª„Å™ÈñãÁô∫Ë®ÄË™û„ÉªÊäÄË°ì</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="java" id="lang1">
                            <label for="lang1">‚òï Java</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="python" id="lang2">
                            <label for="lang2">üêç Python</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="javascript" id="lang3">
                            <label for="lang3">üíõ JavaScript</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="csharp" id="lang4">
                            <label for="lang4">üîµ C#</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="go" id="lang5">
                            <label for="lang5">üîµ Go</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="php" id="lang6">
                            <label for="lang6">üêò PHP</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="swift" id="lang7">
                            <label for="lang7">üçé Swift</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="kotlin" id="lang8">
                            <label for="lang8">ü§ñ Kotlin</label>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevStep()">Êàª„Çã</button>
                    <button class="btn btn-primary" onclick="nextStep()">Ê¨°„Å∏</button>
                </div>
            </div>

            <!-- Step 3: Âú∞Âüü„ÉªÊ•≠Áïå -->
            <div class="step" id="step3">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">Âã§ÂãôÂú∞„ÉªÊ•≠Áïå</div>
                </div>

                <div class="form-group">
                    <label class="form-label">‰∏ª„Å™Âã§ÂãôÂú∞</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="location" value="tokyo" id="loc1">
                            <label for="loc1">üóº Êù±‰∫¨ÈÉΩ<br><small>ÊúÄÈ´òÊ∞¥Ê∫ñ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="osaka" id="loc2">
                            <label for="loc2">üèØ Â§ßÈò™Â∫ú<br><small>Èñ¢Ë•øÂúè</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="nagoya" id="loc3">
                            <label for="loc3">üè≠ ÊÑõÁü•Áúå<br><small>‰∏≠ÈÉ®Âúè</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="fukuoka" id="loc4">
                            <label for="loc4">üå∏ Á¶èÂ≤°Áúå<br><small>‰πùÂ∑ûÂúè</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="other" id="loc5">
                            <label for="loc5">üåç „Åù„ÅÆ‰ªñÂú∞Âüü<br><small>Âú∞ÊñπÈÉΩÂ∏Ç</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="remote" id="loc6">
                            <label for="loc6">üíª „Éï„É´„É™„É¢„Éº„Éà<br><small>Â†¥ÊâÄ‰∏çÂïè</small></label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Ê•≠Áïå„Éª‰ºÅÊ•≠Ë¶èÊ®°</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="industry" value="finance" id="ind1">
                            <label for="ind1">üí∞ ÈáëËûç„Éª‰øùÈô∫<br><small>È´òÂπ¥ÂèéÊ•≠Áïå</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="consulting" id="ind2">
                            <label for="ind2">üíº „Ç≥„É≥„Çµ„É´„ÉªÂ§ßÊâãSI<br><small>ÂÆâÂÆö„ÉªÈ´òÂèéÂÖ•</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="web" id="ind3">
                            <label for="ind3">üåê Web„ÉªIT‰ºÅÊ•≠<br><small>ÊàêÈï∑Ê•≠Áïå</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="manufacturing" id="ind4">
                            <label for="ind4">üè≠ Ë£ΩÈÄ†Ê•≠<br><small>ÂÆâÂÆöÂøóÂêë</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="startup" id="ind5">
                            <label for="ind5">üöÄ „Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó<br><small>ÊåëÊà¶„ÉªÊàêÈï∑</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="government" id="ind6">
                            <label for="ind6">üèõÔ∏è ÂÆòÂÖ¨Â∫Å„ÉªËá™Ê≤ª‰Ωì<br><small>ÂÆâÂÆöÈáçË¶ñ</small></label>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevStep()">Êàª„Çã</button>
                    <button class="btn btn-primary" onclick="calculateSalary()">Ë®∫Êñ≠ÁµêÊûú„ÇíË¶ã„Çã</button>
                </div>
            </div>

            <!-- ÁµêÊûúË°®Á§∫ -->
            <div class="result-container" id="result">
                <div class="salary-result">
                    <div class="salary-amount" id="salaryAmount">650‰∏áÂÜÜ</div>
                    <div class="salary-range" id="salaryRange">ÊÉ≥ÂÆöÂπ¥ÂèéÁØÑÂõ≤: 580‰∏áÂÜÜ „Äú 720‰∏áÂÜÜ</div>
                </div>

                <div class="result-details">
                    <div class="detail-card experience">
                        <div class="detail-title">üìà ÁµåÈ®ìÂπ¥Êï∞„Å´„Çà„ÇãË©ï‰æ°</div>
                        <div class="detail-content" id="experienceDetail"></div>
                    </div>
                    <div class="detail-card skills">
                        <div class="detail-title">üíª „Çπ„Ç≠„É´Ë©ï‰æ°</div>
                        <div class="detail-content" id="skillsDetail"></div>
                    </div>
                    <div class="detail-card location">
                        <div class="detail-title">üìç Âú∞ÂüüË£úÊ≠£</div>
                        <div class="detail-content" id="locationDetail"></div>
                    </div>
                    <div class="detail-card workstyle">
                        <div class="detail-title">üè¢ ÂÉç„ÅçÊñπË©ï‰æ°</div>
                        <div class="detail-content" id="workstyleDetail"></div>
                    </div>
                </div>

                <div class="advice-section">
                    <div class="advice-title">üí° Âπ¥Âèé„Ç¢„ÉÉ„Éó„ÅÆ„Ç¢„Éâ„Éê„Ç§„Çπ</div>
                    <div class="advice-content" id="adviceContent"></div>
                </div>

                <div class="share-buttons">
                    <a href="#" class="share-btn share-twitter" onclick="shareTwitter()">üê¶ Twitter„ÅßÂÖ±Êúâ</a>
                    <a href="#" class="share-btn share-line" onclick="shareLine()">üí¨ LINE„ÅßÂÖ±Êúâ</a>
                </div>

                <button class="btn restart-btn" onclick="restart()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 3;

        // „Éï„Ç©„Éº„É†„Éá„Éº„Çø
        const formData = {
            experience: '',
            workstyle: '',
            skills: [],
            languages: [],
            location: '',
            industry: ''
        };

        // Âπ¥ÂèéË®àÁÆó„ÅÆÂü∫Ê∫ñÂÄ§
        const salaryBase = {
            experience: {
                '0-2': 350,
                '3-5': 480,
                '6-10': 650,
                '11+': 850
            },
            workstyle: {
                'ses': 0.9,
                'sier': 1.0,
                'internal': 1.1,
                'freelance': 1.3
            },
            location: {
                'tokyo': 1.2,
                'osaka': 1.0,
                'nagoya': 0.95,
                'fukuoka': 0.85,
                'other': 0.8,
                'remote': 1.1
            },
            industry: {
                'finance': 1.3,
                'consulting': 1.25,
                'web': 1.1,
                'manufacturing': 1.0,
                'startup': 0.9,
                'government': 0.95
            },
            skills: {
                'ai': 50,
                'security': 40,
                'infrastructure': 30,
                'backend': 25,
                'pm': 35,
                'data': 30,
                'frontend': 20,
                'mobile': 25
            },
            languages: {
                'go': 30,
                'python': 25,
                'java': 20,
                'javascript': 15,
                'swift': 25,
                'kotlin': 20,
                'csharp': 15,
                'php': 10
            }
        };

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function nextStep() {
            // ÁèæÂú®„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„ÅÆÂÖ•Âäõ„ÉÅ„Çß„ÉÉ„ÇØ
            if (!validateCurrentStep()) {
                alert('ÂøÖË¶Å„Å™È†ÖÁõÆ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                return;
            }

            // „Éá„Éº„Çø‰øùÂ≠ò
            saveCurrentStepData();

            // Ê¨°„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„Å∏
            if (currentStep < totalSteps) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
            }
        }

        function validateCurrentStep() {
            switch(currentStep) {
                case 1:
                    return document.querySelector('input[name="experience"]:checked') && 
                           document.querySelector('input[name="workstyle"]:checked');
                case 2:
                    return document.querySelectorAll('input[name="skills"]:checked').length > 0;
                case 3:
                    return document.querySelector('input[name="location"]:checked') && 
                           document.querySelector('input[name="industry"]:checked');
                default:
                    return true;
            }
        }

        function saveCurrentStepData() {
            switch(currentStep) {
                case 1:
                    formData.experience = document.querySelector('input[name="experience"]:checked').value;
                    formData.workstyle = document.querySelector('input[name="workstyle"]:checked').value;
                    break;
                case 2:
                    formData.skills = Array.from(document.querySelectorAll('input[name="skills"]:checked')).map(el => el.value);
                    formData.languages = Array.from(document.querySelectorAll('input[name="languages"]:checked')).map(el => el.value);
                    break;
                case 3:
                    formData.location = document.querySelector('input[name="location"]:checked').value;
                    formData.industry = document.querySelector('input[name="industry"]:checked').value;
                    break;
            }
        }

        function calculateSalary() {
            if (!validateCurrentStep()) {
                alert('ÂøÖË¶Å„Å™È†ÖÁõÆ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                return;
            }

            saveCurrentStepData();

            // Âü∫Ê∫ñÂπ¥Âèé
            let baseSalary = salaryBase.experience[formData.experience];

            // ÂÉç„ÅçÊñπË£úÊ≠£
            baseSalary *= salaryBase.workstyle[formData.workstyle];

            // Âú∞ÂüüË£úÊ≠£
            baseSalary *= salaryBase.location[formData.location];

            // Ê•≠ÁïåË£úÊ≠£
            baseSalary *= salaryBase.industry[formData.industry];

            // „Çπ„Ç≠„É´Ë£úÊ≠£
            let skillBonus = 0;
            formData.skills.forEach(skill => {
                skillBonus += salaryBase.skills[skill] || 0;
            });
            formData.languages.forEach(lang => {
                skillBonus += salaryBase.languages[lang] || 0;
            });

            const finalSalary = Math.round(baseSalary + skillBonus);
            const minSalary = Math.round(finalSalary * 0.9);
            const maxSalary = Math.round(finalSalary * 1.1);

            // ÁµêÊûúË°®Á§∫
            showResult(finalSalary, minSalary, maxSalary);
        }

        function showResult(salary, minSalary, maxSalary) {
            // „Çπ„ÉÜ„ÉÉ„Éó„ÇíÈùûË°®Á§∫„Å´„Åó„Å¶ÁµêÊûú„ÇíË°®Á§∫
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById('result').classList.add('show');
            document.getElementById('progress').style.width = '100%';

            // Âπ¥ÂèéË°®Á§∫
            document.getElementById('salaryAmount').textContent = `${salary}‰∏áÂÜÜ`;
            document.getElementById('salaryRange').textContent = `ÊÉ≥ÂÆöÂπ¥ÂèéÁØÑÂõ≤: ${minSalary}‰∏áÂÜÜ „Äú ${maxSalary}‰∏áÂÜÜ`;

            // Ë©≥Á¥∞ÂàÜÊûê
            updateResultDetails(salary);
        }

        function updateResultDetails(salary) {
            // ÁµåÈ®ìÂπ¥Êï∞Ë©≥Á¥∞
            const expDetails = {
                '0-2': 'Êñ∞‰∫∫„ÉªÈßÜ„ÅëÂá∫„Åó„É¨„Éô„É´„ÄÇÂü∫Á§éÊäÄË°ì„ÅÆÁøíÂæó„ÅåË©ï‰æ°„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰ªäÂæå„ÅÆÊàêÈï∑„Å´ÊúüÂæÖÂ§ßÔºÅ',
                '3-5': '‰∏≠Â†Ö„É¨„Éô„É´„ÄÇÂÆüÂãôÁµåÈ®ì„ÅåË±äÂØå„Åß„ÄÅ‰∏Ä‰∫∫Ââç„Å®„Åó„Å¶Ë©ï‰æ°„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                '6-10': '„Ç∑„Éã„Ç¢„É¨„Éô„É´„ÄÇÂ∞ÇÈñÄÊÄß„Å®ÊåáÂ∞éÂäõ„ÅåÈ´ò„ÅèË©ï‰æ°„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                '11+': '„Ç®„Ç≠„Çπ„Éë„Éº„Éà„É¨„Éô„É´„ÄÇË±äÂØå„Å™ÁµåÈ®ì„Å®È´òÂ∫¶„Å™ÊäÄË°ìÂäõ„ÅåË©ï‰æ°„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ'
            };
            document.getElementById('experienceDetail').textContent = expDetails[formData.experience];

            // „Çπ„Ç≠„É´Ë©≥Á¥∞
            const skillCount = formData.skills.length + formData.languages.length;
            let skillText = `${skillCount}ÂÄã„ÅÆÊäÄË°ì„Çπ„Ç≠„É´„ÅåË©ï‰æ°„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`;
            if (skillCount >= 6) {
                skillText += 'ÂπÖÂ∫É„ÅÑ„Çπ„Ç≠„É´„Çª„ÉÉ„Éà„ÅåÈ´ò„ÅèË©ï‰æ°„Åï„Çå„Å¶„ÅÑ„Åæ„ÅôÔºÅ';
            } else if (skillCount >= 3) {
                skillText += '„Éê„É©„É≥„Çπ„ÅÆËâØ„ÅÑ„Çπ„Ç≠„É´„Çª„ÉÉ„Éà„Åß„Åô„ÄÇ';
            } else {
                skillText += '„Çà„ÇäÂ§ö„Åè„ÅÆ„Çπ„Ç≠„É´„ÇíË∫´„Å´„Å§„Åë„Çã„Åì„Å®„ÅßÂπ¥Âèé„Ç¢„ÉÉ„Éó„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇ';
            }
            document.getElementById('skillsDetail').textContent = skillText;

            // Âú∞ÂüüË©≥Á¥∞
            const locDetails = {
                'tokyo': 'Êù±‰∫¨ÈÉΩ„ÅØÊó•Êú¨ÊúÄÈ´òÊ∞¥Ê∫ñ„ÅÆÂπ¥Âèé„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇÂ§ö„Åè„ÅÆ‰ºÅÊ•≠„ÅåÈõÜ‰∏≠„Åó„ÄÅÊ©ü‰ºö„ÇÇË±äÂØå„Åß„Åô„ÄÇ',
                'osaka': 'Â§ßÈò™Â∫ú„ÅØÈñ¢Ë•øÂúè„ÅÆ‰∏≠ÂøÉ„Åß„ÄÅÂÆâÂÆö„Åó„ÅüÂπ¥Âèé„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇ',
                'nagoya': 'ÊÑõÁü•Áúå„ÅØË£ΩÈÄ†Ê•≠„ÅåÂº∑„Åè„ÄÅÂ†ÖÂÆü„Å™Âπ¥Âèé„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇ',
                'fukuoka': 'Á¶èÂ≤°Áúå„ÅØ‰πùÂ∑û„ÅÆ‰∏≠ÂøÉ„Åß„ÄÅIT‰ºÅÊ•≠„ÅÆÈÄ≤Âá∫„ÇÇÂ¢ó„Åà„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                'other': 'Âú∞ÊñπÈÉΩÂ∏Ç„Åß„ÅØÂπ¥Âèé„ÅØÊéß„Åà„ÇÅ„Åß„Åô„Åå„ÄÅÁîüÊ¥ª„Ç≥„Çπ„Éà„ÇÇ‰Ωé„Åè„ÄÅQOL„ÅØÈ´ò„ÅÑ„Åß„Åô„ÄÇ',
                'remote': '„Éï„É´„É™„É¢„Éº„Éà„Å´„Çà„ÇäÂú∞Âüü„Å´Á∏õ„Çâ„Çå„Å™„ÅÑÈ´òÂπ¥Âèé„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇ'
            };
            document.getElementById('locationDetail').textContent = locDetails[formData.location];

            // ÂÉç„ÅçÊñπË©≥Á¥∞
            const workDetails = {
                'ses': 'SES„ÅØÊßò„ÄÖ„Å™ÁµåÈ®ì„ÇíÁ©ç„ÇÅ„Åæ„Åô„ÄÇ„Çπ„Ç≠„É´„Ç¢„ÉÉ„Éó„Åó„Å¶‰∏äÊµÅÂ∑•Á®ã„ÇíÁõÆÊåá„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ',
                'sier': 'SIer„ÅØÂÆâÂÆö„Åó„ÅüÂπ¥Âèé„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇÂ§ßË¶èÊ®°„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÁµåÈ®ì„ÅåÂº∑„Åø„Åß„Åô„ÄÇ',
                'internal': 'Á§æÂÜÖSE„ÅØÂÆâÂÆöÊÄß„Å®„ÉØ„Éº„ÇØ„É©„Ç§„Éï„Éê„É©„É≥„Çπ„ÅåÈ≠ÖÂäõ„Åß„Åô„ÄÇ',
                'freelance': '„Éï„É™„Éº„É©„É≥„Çπ„ÅØÈ´òÂπ¥Âèé„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„Åå„ÄÅÂñ∂Ê•≠Âäõ„ÇÇÈáçË¶Å„Åß„Åô„ÄÇ'
            };
            document.getElementById('workstyleDetail').textContent = workDetails[formData.workstyle];

            // „Ç¢„Éâ„Éê„Ç§„ÇπÁîüÊàê
            generateAdvice(salary);
        }

        function generateAdvice(salary) {
            let advice = '';

            // Âπ¥Âèé„É¨„Éô„É´Âà•„Ç¢„Éâ„Éê„Ç§„Çπ
            if (salary < 400) {
                advice += 'üìö <strong>„Çπ„Ç≠„É´„Ç¢„ÉÉ„Éó„ÅåÊúÄÂÑ™ÂÖà</strong><br>Âü∫Á§éÊäÄË°ì„ÅÆÁøíÂæó„Å®ÂÆüÂãôÁµåÈ®ì„ÇíÁ©ç„ÅøÈáç„Å≠„Åæ„Åó„Çá„ÅÜ„ÄÇË≥áÊ†ºÂèñÂæó„ÇÇÊúâÂäπ„Åß„Åô„ÄÇ<br><br>';
            } else if (salary < 600) {
                advice += 'üìà <strong>Â∞ÇÈñÄÊÄß„ÇíÊ∑±„ÇÅ„Åæ„Åó„Çá„ÅÜ</strong><br>ÁâπÂÆöÂàÜÈáé„Åß„ÅÆÂ∞ÇÈñÄÊÄß„ÇíÈ´ò„ÇÅ„ÄÅ‰∏äÊµÅÂ∑•Á®ã„Å∏„ÅÆÂèÇÁîª„ÇíÁõÆÊåá„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ<br><br>';
            } else if (salary < 800) {
                advice += 'üéØ <strong>„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„ÇíÁô∫ÊèÆ</strong><br>ÊäÄË°ìÂäõ„Å´Âä†„Åà„Å¶„ÄÅ„Éû„Éç„Ç∏„É°„É≥„Éà„Çπ„Ç≠„É´„ÅÆÁøíÂæó„ÅåÂπ¥Âèé„Ç¢„ÉÉ„Éó„ÅÆÈçµ„Åß„Åô„ÄÇ<br><br>';
            } else {
                advice += 'üèÜ <strong>Â∏ÇÂ†¥‰æ°ÂÄ§„ÅÆÈ´ò„ÅÑ„Ç®„Ç≠„Çπ„Éë„Éº„Éà</strong><br>ÁèæÂú®„ÅÆÂ∞ÇÈñÄÊÄß„ÇíÊ¥ª„Åã„Åó„ÄÅ„Çà„ÇäÈ´òÂçò‰æ°„ÅÆÊ°à‰ª∂„ÇÑËª¢ËÅ∑„ÇíÊ§úË®é„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ<br><br>';
            }

            // ÂÉç„ÅçÊñπÂà•„Ç¢„Éâ„Éê„Ç§„Çπ
            if (formData.workstyle === 'ses') {
                advice += 'üí° <strong>SES„Åã„Çâ„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„Ç¢„ÉÉ„Éó</strong><br>ÂÖÉË´ã„Åë‰ºÅÊ•≠„Å∏„ÅÆËª¢ËÅ∑„ÇÑ„ÄÅ„Éï„É™„Éº„É©„É≥„ÇπÁã¨Á´ã„ÇíÊ§úË®é„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ';
            } else if (formData.workstyle === 'sier') {
                advice += 'üí° <strong>SIer„Åß„ÅÆÊàêÈï∑Êà¶Áï•</strong><br>‰∏äÊµÅÂ∑•Á®ã„ÇÑ„Éû„Éç„Ç∏„É°„É≥„ÉàËÅ∑„ÇíÁõÆÊåá„Åó„Å¶Âπ¥Âèé„Ç¢„ÉÉ„Éó„ÇíÂõ≥„Çä„Åæ„Åó„Çá„ÅÜ„ÄÇ';
            } else if (formData.workstyle === 'internal') {
                advice += 'üí° <strong>Á§æÂÜÖSE„ÅÆ‰æ°ÂÄ§Âêë‰∏ä</strong><br>ITÊà¶Áï•„ÇÑÊ•≠ÂãôÊîπÂñÑ„ÅÆÊèêÊ°à„ÅßÁ§æÂÜÖ„Åß„ÅÆË©ï‰æ°„ÇíÈ´ò„ÇÅ„Åæ„Åó„Çá„ÅÜ„ÄÇ';
            } else {
                advice += 'üí° <strong>„Éï„É™„Éº„É©„É≥„Çπ„ÅÆÂçò‰æ°„Ç¢„ÉÉ„Éó</strong><br>Â∏åÂ∞ëÊÄß„ÅÆÈ´ò„ÅÑ„Çπ„Ç≠„É´„ÇíË∫´„Å´„Å§„Åë„ÄÅÈï∑ÊúüÂ•ëÁ¥Ñ„ÇíÁç≤Âæó„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ';
            }

            document.getElementById('adviceContent').innerHTML = advice;
        }

        function shareTwitter() {
            const salary = document.getElementById('salaryAmount').textContent;
            const text = `SEÂπ¥ÂèéË®∫Êñ≠„ÉÑ„Éº„É´„ÅßË®∫Êñ≠„Åó„Åæ„Åó„ÅüÔºÅ\nÈÅ©Ê≠£Âπ¥Âèé: ${salary}\n\n#SEÂπ¥ÂèéË®∫Êñ≠ #„Ç∑„Çπ„ÉÜ„É†„Ç®„É≥„Ç∏„Éã„Ç¢`;
            const url = encodeURIComponent(window.location.href);
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${url}`);
        }

        function shareLine() {
            const salary = document.getElementById('salaryAmount').textContent;
            const text = `SEÂπ¥ÂèéË®∫Êñ≠„ÉÑ„Éº„É´„ÅßË®∫Êñ≠„Åó„Åæ„Åó„ÅüÔºÅÈÅ©Ê≠£Âπ¥Âèé: ${salary}`;
            const url = encodeURIComponent(window.location.href);
            window.open(`https://social-plugins.line.me/lineit/share?url=${url}&text=${encodeURIComponent(text)}`);
        }

        function restart() {
            // „Éá„Éº„Çø„É™„Çª„ÉÉ„Éà
            Object.keys(formData).forEach(key => {
                if (Array.isArray(formData[key])) {
                    formData[key] = [];
                } else {
                    formData[key] = '';
                }
            });

            // „Éï„Ç©„Éº„É†„É™„Çª„ÉÉ„Éà
            document.querySelectorAll('input').forEach(input => {
                input.checked = false;
            });

            // „Çπ„ÉÜ„ÉÉ„Éó„É™„Çª„ÉÉ„Éà
            currentStep = 1;
            document.getElementById('result').classList.remove('show');
            document.getElementById('step1').classList.add('active');
            updateProgress();
        }

        // ÂàùÊúüÂåñ
        updateProgress();

        // Google AnalyticsÁî®„ÅÆ„Ç§„Éô„É≥„ÉàËøΩË∑°Ôºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
        function trackEvent(action, label) {
            if (typeof gtag !== 'undefined') {
                gtag('event', action, {
                    event_category: 'SEÂπ¥ÂèéË®∫Êñ≠',
                    event_label: label
                });
            }
        }

        // Ë®∫Êñ≠ÂÆå‰∫ÜÊôÇ„ÅÆ„Ç§„Éô„É≥„ÉàËøΩË∑°
        function trackCompletion(salary) {
            trackEvent('Ë®∫Êñ≠ÂÆå‰∫Ü', `Âπ¥Âèé${salary}‰∏áÂÜÜ`);
        }
    </script>
</body>
</html>