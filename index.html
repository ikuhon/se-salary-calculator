<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEå¹´åè¨ºæ–­ãƒ„ãƒ¼ãƒ« | ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®é©æ­£å¹´åã‚’è¨ºæ–­</title>
    <meta name="description" content="ã‚ãªãŸã®ã‚¹ã‚­ãƒ«ãƒ»çµŒé¨“å¹´æ•°ãƒ»åœ°åŸŸã‹ã‚‰é©æ­£å¹´åã‚’è¨ºæ–­ã€‚SEã®å¸‚å ´ä¾¡å€¤ã‚’å®¢è¦³çš„ã«è©•ä¾¡ã—ã€è»¢è·ãƒ»å¹´åã‚¢ãƒƒãƒ—ã®å‚è€ƒã«ã€‚">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .step {
            margin-bottom: 40px;
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .step.active {
            opacity: 1;
        }

        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .step-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #3498db;
        }

        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .radio-option {
            position: relative;
        }

        .radio-option input {
            position: absolute;
            opacity: 0;
        }

        .radio-option label {
            display: block;
            padding: 15px 20px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .radio-option input:checked + label {
            border-color: #3498db;
            background: linear-gradient(135deg, #ebf3fd, #d6eaf8);
            color: #2980b9;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .checkbox-option {
            position: relative;
        }

        .checkbox-option input {
            position: absolute;
            opacity: 0;
        }

        .checkbox-option label {
            display: block;
            padding: 12px 15px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .checkbox-option input:checked + label {
            border-color: #2ecc71;
            background: linear-gradient(135deg, #eafaf1, #d5f4e6);
            color: #27ae60;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(149, 165, 166, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #3498db, #2ecc71);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .result-container {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .result-container.show {
            display: block;
        }

        .salary-result {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .salary-result::before {
            content: 'ğŸ’°';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 100px;
            opacity: 0.1;
        }

        .salary-amount {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .salary-range {
            font-size: 18px;
            opacity: 0.9;
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .detail-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid;
        }

        .detail-card.experience {
            border-left-color: #3498db;
        }

        .detail-card.skills {
            border-left-color: #e74c3c;
        }

        .detail-card.location {
            border-left-color: #f39c12;
        }

        .detail-card.workstyle {
            border-left-color: #9b59b6;
        }

        .detail-title {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .detail-content {
            font-size: 14px;
            color: #7f8c8d;
            line-height: 1.6;
        }

        .advice-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .advice-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .advice-content {
            font-size: 14px;
            line-height: 1.8;
            opacity: 0.9;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .share-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .share-btn:hover {
            transform: translateY(-2px);
        }

        .share-twitter {
            background: #1da1f2;
        }

        .share-facebook {
            background: #4267b2;
        }

        .share-line {
            background: #06c755;
        }

        .restart-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            margin: 20px auto;
            display: block;
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .radio-group {
                grid-template-columns: 1fr;
            }
            
            .salary-amount {
                font-size: 36px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’° SEå¹´åè¨ºæ–­ãƒ„ãƒ¼ãƒ«</h1>
            <p>ã‚ãªãŸã®ã‚¹ã‚­ãƒ«ãƒ»çµŒé¨“ãƒ»åœ°åŸŸã‹ã‚‰é©æ­£å¹´åã‚’è¨ºæ–­ã—ã¾ã™</p>
        </div>

        <div class="main-content">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <!-- Step 1: åŸºæœ¬æƒ…å ± -->
            <div class="step active" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">åŸºæœ¬æƒ…å ±</div>
                </div>

                <div class="form-group">
                    <label class="form-label">çµŒé¨“å¹´æ•°</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="experience" value="0-2" id="exp1">
                            <label for="exp1">0-2å¹´<br><small>æ–°äººãƒ»é§†ã‘å‡ºã—</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="experience" value="3-5" id="exp2">
                            <label for="exp2">3-5å¹´<br><small>ä¸­å …ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="experience" value="6-10" id="exp3">
                            <label for="exp3">6-10å¹´<br><small>ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="experience" value="11+" id="exp4">
                            <label for="exp4">11å¹´ä»¥ä¸Š<br><small>ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ</small></label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">åƒãæ–¹</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="ses" id="work1">
                            <label for="work1">SES<br><small>å®¢å…ˆå¸¸é§</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="sier" id="work2">
                            <label for="work2">SIer<br><small>ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºä¼šç¤¾</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="internal" id="work3">
                            <label for="work3">ç¤¾å†…SE<br><small>äº‹æ¥­ä¼šç¤¾ã®ITéƒ¨é–€</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workstyle" value="freelance" id="work4">
                            <label for="work4">ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹<br><small>ç‹¬ç«‹ãƒ»æ¥­å‹™å§”è¨—</small></label>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <div></div>
                    <button class="btn btn-primary" onclick="nextStep()">æ¬¡ã¸</button>
                </div>
            </div>

            <!-- Step 2: ã‚¹ã‚­ãƒ« -->
            <div class="step" id="step2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">æŠ€è¡“ã‚¹ã‚­ãƒ«</div>
                </div>

                <div class="form-group">
                    <label class="form-label">å¾—æ„ãªæŠ€è¡“åˆ†é‡ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="frontend" id="skill1">
                            <label for="skill1">ğŸ–¥ï¸ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="backend" id="skill2">
                            <label for="skill2">âš™ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="infrastructure" id="skill3">
                            <label for="skill3">ğŸ—ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="mobile" id="skill4">
                            <label for="skill4">ğŸ“± ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="ai" id="skill5">
                            <label for="skill5">ğŸ¤– AIãƒ»æ©Ÿæ¢°å­¦ç¿’</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="security" id="skill6">
                            <label for="skill6">ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="pm" id="skill7">
                            <label for="skill7">ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="skills" value="data" id="skill8">
                            <label for="skill8">ğŸ“ˆ ãƒ‡ãƒ¼ã‚¿åˆ†æ</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ä¸»ãªé–‹ç™ºè¨€èªãƒ»æŠ€è¡“</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="java" id="lang1">
                            <label for="lang1">â˜• Java</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="python" id="lang2">
                            <label for="lang2">ğŸ Python</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="javascript" id="lang3">
                            <label for="lang3">ğŸ’› JavaScript</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="csharp" id="lang4">
                            <label for="lang4">ğŸ”µ C#</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="go" id="lang5">
                            <label for="lang5">ğŸ”µ Go</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="php" id="lang6">
                            <label for="lang6">ğŸ˜ PHP</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="swift" id="lang7">
                            <label for="lang7">ğŸ Swift</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="languages" value="kotlin" id="lang8">
                            <label for="lang8">ğŸ¤– Kotlin</label>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevStep()">æˆ»ã‚‹</button>
                    <button class="btn btn-primary" onclick="nextStep()">æ¬¡ã¸</button>
                </div>
            </div>

            <!-- Step 3: åœ°åŸŸãƒ»æ¥­ç•Œ -->
            <div class="step" id="step3">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">å‹¤å‹™åœ°ãƒ»æ¥­ç•Œ</div>
                </div>

                <div class="form-group">
                    <label class="form-label">ä¸»ãªå‹¤å‹™åœ°</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="location" value="tokyo" id="loc1">
                            <label for="loc1">ğŸ—¼ æ±äº¬éƒ½<br><small>æœ€é«˜æ°´æº–</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="osaka" id="loc2">
                            <label for="loc2">ğŸ¯ å¤§é˜ªåºœ<br><small>é–¢è¥¿åœ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="nagoya" id="loc3">
                            <label for="loc3">ğŸ­ æ„›çŸ¥çœŒ<br><small>ä¸­éƒ¨åœ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="fukuoka" id="loc4">
                            <label for="loc4">ğŸŒ¸ ç¦å²¡çœŒ<br><small>ä¹å·åœ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="other" id="loc5">
                            <label for="loc5">ğŸŒ ãã®ä»–åœ°åŸŸ<br><small>åœ°æ–¹éƒ½å¸‚</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="location" value="remote" id="loc6">
                            <label for="loc6">ğŸ’» ãƒ•ãƒ«ãƒªãƒ¢ãƒ¼ãƒˆ<br><small>å ´æ‰€ä¸å•</small></label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">æ¥­ç•Œãƒ»ä¼æ¥­è¦æ¨¡</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="industry" value="finance" id="ind1">
                            <label for="ind1">ğŸ’° é‡‘èãƒ»ä¿é™º<br><small>é«˜å¹´åæ¥­ç•Œ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="consulting" id="ind2">
                            <label for="ind2">ğŸ’¼ ã‚³ãƒ³ã‚µãƒ«ãƒ»å¤§æ‰‹SI<br><small>å®‰å®šãƒ»é«˜åå…¥</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="web" id="ind3">
                            <label for="ind3">ğŸŒ Webãƒ»ITä¼æ¥­<br><small>æˆé•·æ¥­ç•Œ</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="manufacturing" id="ind4">
                            <label for="ind4">ğŸ­ è£½é€ æ¥­<br><small>å®‰å®šå¿—å‘</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="startup" id="ind5">
                            <label for="ind5">ğŸš€ ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—<br><small>æŒ‘æˆ¦ãƒ»æˆé•·</small></label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="industry" value="government" id="ind6">
                            <label for="ind6">ğŸ›ï¸ å®˜å…¬åºãƒ»è‡ªæ²»ä½“<br><small>å®‰å®šé‡è¦–</small></label>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevStep()">æˆ»ã‚‹</button>
                    <button class="btn btn-primary" onclick="calculateSalary()">è¨ºæ–­çµæœã‚’è¦‹ã‚‹</button>
                </div>
            </div>

            <!-- çµæœè¡¨ç¤º -->
            <div class="result-container" id="result">
                <div class="salary-result">
                    <div class="salary-amount" id="salaryAmount">650ä¸‡å††</div>
                    <div class="salary-range" id="salaryRange">æƒ³å®šå¹´åç¯„å›²: 580ä¸‡å†† ã€œ 720ä¸‡å††</div>
                </div>

                <div class="result-details">
                    <div class="detail-card experience">
                        <div class="detail-title">ğŸ“ˆ çµŒé¨“å¹´æ•°ã«ã‚ˆã‚‹è©•ä¾¡</div>
                        <div class="detail-content" id="experienceDetail"></div>
                    </div>
                    <div class="detail-card skills">
                        <div class="detail-title">ğŸ’» ã‚¹ã‚­ãƒ«è©•ä¾¡</div>
                        <div class="detail-content" id="skillsDetail"></div>
                    </div>
                    <div class="detail-card location">
                        <div class="detail-title">ğŸ“ åœ°åŸŸè£œæ­£</div>
                        <div class="detail-content" id="locationDetail"></div>
                    </div>
                    <div class="detail-card workstyle">
                        <div class="detail-title">ğŸ¢ åƒãæ–¹è©•ä¾¡</div>
                        <div class="detail-content" id="workstyleDetail"></div>
                    </div>
                </div>

                <div class="advice-section">
                    <div class="advice-title">ğŸ’¡ å¹´åã‚¢ãƒƒãƒ—ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</div>
                    <div class="advice-content" id="adviceContent"></div>
                </div>

                <div class="share-buttons">
                    <a href="#" class="share-btn share-twitter" onclick="shareTwitter()">ğŸ¦ Twitterã§å…±æœ‰</a>
                    <a href="#" class="share-btn share-line" onclick="shareLine()">ğŸ’¬ LINEã§å…±æœ‰</a>
                </div>

                <button class="btn restart-btn" onclick="restart()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 3;

        // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿
        const formData = {
            experience: '',
            workstyle: '',
            skills: [],
            languages: [],
            location: '',
            industry: ''
        };

        // å¹´åè¨ˆç®—ã®åŸºæº–å€¤
        const salaryBase = {
            experience: {
                '0-2': 350,
                '3-5': 480,
                '6-10': 650,
                '11+': 850
            },
            workstyle: {
                'ses': 0.9,
                'sier': 1.0,
                'internal': 1.1,
                'freelance': 1.3
            },
            location: {
                'tokyo': 1.2,
                'osaka': 1.0,
                'nagoya': 0.95,
                'fukuoka': 0.85,
                'other': 0.8,
                'remote': 1.1
            },
            industry: {
                'finance': 1.3,
                'consulting': 1.25,
                'web': 1.1,
                'manufacturing': 1.0,
                'startup': 0.9,
                'government': 0.95
            },
            skills: {
                'ai': 50,
                'security': 40,
                'infrastructure': 30,
                'backend': 25,
                'pm': 35,
                'data': 30,
                'frontend': 20,
                'mobile': 25
            },
            languages: {
                'go': 30,
                'python': 25,
                'java': 20,
                'javascript': 15,
                'swift': 25,
                'kotlin': 20,
                'csharp': 15,
                'php': 10
            }
        };

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function nextStep() {
            // ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—ã®å…¥åŠ›ãƒã‚§ãƒƒã‚¯
            if (!validateCurrentStep()) {
                alert('å¿…è¦ãªé …ç›®ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }

            // ãƒ‡ãƒ¼ã‚¿ä¿å­˜
            saveCurrentStepData();

            // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸
            if (currentStep < totalSteps) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
            }
        }

        function validateCurrentStep() {
            switch(currentStep) {
                case 1:
                    return document.querySelector('input[name="experience"]:checked') && 
                           document.querySelector('input[name="workstyle"]:checked');
                case 2:
                    return document.querySelectorAll('input[name="skills"]:checked').length > 0;
                case 3:
                    return document.querySelector('input[name="location"]:checked') && 
                           document.querySelector('input[name="industry"]:checked');
                default:
                    return true;
            }
        }

        function saveCurrentStepData() {
            switch(currentStep) {
                case 1:
                    formData.experience = document.querySelector('input[name="experience"]:checked').value;
                    formData.workstyle = document.querySelector('input[name="workstyle"]:checked').value;
                    break;
                case 2:
                    formData.skills = Array.from(document.querySelectorAll('input[name="skills"]:checked')).map(el => el.value);
                    formData.languages = Array.from(document.querySelectorAll('input[name="languages"]:checked')).map(el => el.value);
                    break;
                case 3:
                    formData.location = document.querySelector('input[name="location"]:checked').value;
                    formData.industry = document.querySelector('input[name="industry"]:checked').value;
                    break;
            }
        }

        function calculateSalary() {
            if (!validateCurrentStep()) {
                alert('å¿…è¦ãªé …ç›®ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }

            saveCurrentStepData();

            // åŸºæº–å¹´å
            let baseSalary = salaryBase.experience[formData.experience];

            // åƒãæ–¹è£œæ­£
            baseSalary *= salaryBase.workstyle[formData.workstyle];

            // åœ°åŸŸè£œæ­£
            baseSalary *= salaryBase.location[formData.location];

            // æ¥­ç•Œè£œæ­£
            baseSalary *= salaryBase.industry[formData.industry];

            // ã‚¹ã‚­ãƒ«è£œæ­£
            let skillBonus = 0;
            formData.skills.forEach(skill => {
                skillBonus += salaryBase.skills[skill] || 0;
            });
            formData.languages.forEach(lang => {
                skillBonus += salaryBase.languages[lang] || 0;
            });

            const finalSalary = Math.round(baseSalary + skillBonus);
            const minSalary = Math.round(finalSalary * 0.9);
            const maxSalary = Math.round(finalSalary * 1.1);

            // çµæœè¡¨ç¤º
            showResult(finalSalary, minSalary, maxSalary);
        }

        function showResult(salary, minSalary, maxSalary) {
            // ã‚¹ãƒ†ãƒƒãƒ—ã‚’éè¡¨ç¤ºã«ã—ã¦çµæœã‚’è¡¨ç¤º
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById('result').classList.add('show');
            document.getElementById('progress').style.width = '100%';

            // å¹´åè¡¨ç¤º
            document.getElementById('salaryAmount').textContent = `${salary}ä¸‡å††`;
            document.getElementById('salaryRange').textContent = `æƒ³å®šå¹´åç¯„å›²: ${minSalary}ä¸‡å†† ã€œ ${maxSalary}ä¸‡å††`;

            // è©³ç´°åˆ†æ
            updateResultDetails(salary);
        }

        function updateResultDetails(salary) {
            // çµŒé¨“å¹´æ•°è©³ç´°
            const expDetails = {
                '0-2': 'æ–°äººãƒ»é§†ã‘å‡ºã—ãƒ¬ãƒ™ãƒ«ã€‚åŸºç¤æŠ€è¡“ã®ç¿’å¾—ãŒè©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚ä»Šå¾Œã®æˆé•·ã«æœŸå¾…å¤§ï¼',
                '3-5': 'ä¸­å …ãƒ¬ãƒ™ãƒ«ã€‚å®Ÿå‹™çµŒé¨“ãŒè±Šå¯Œã§ã€ä¸€äººå‰ã¨ã—ã¦è©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚',
                '6-10': 'ã‚·ãƒ‹ã‚¢ãƒ¬ãƒ™ãƒ«ã€‚å°‚é–€æ€§ã¨æŒ‡å°åŠ›ãŒé«˜ãè©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚',
                '11+': 'ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã€‚è±Šå¯ŒãªçµŒé¨“ã¨é«˜åº¦ãªæŠ€è¡“åŠ›ãŒè©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚'
            };
            document.getElementById('experienceDetail').textContent = expDetails[formData.experience];

            // ã‚¹ã‚­ãƒ«è©³ç´°
            const skillCount = formData.skills.length + formData.languages.length;
            let skillText = `${skillCount}å€‹ã®æŠ€è¡“ã‚¹ã‚­ãƒ«ãŒè©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚`;
            if (skillCount >= 6) {
                skillText += 'å¹…åºƒã„ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆãŒé«˜ãè©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ï¼';
            } else if (skillCount >= 3) {
                skillText += 'ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã„ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆã§ã™ã€‚';
            } else {
                skillText += 'ã‚ˆã‚Šå¤šãã®ã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ã‚‹ã“ã¨ã§å¹´åã‚¢ãƒƒãƒ—ãŒæœŸå¾…ã§ãã¾ã™ã€‚';
            }
            document.getElementById('skillsDetail').textContent = skillText;

            // åœ°åŸŸè©³ç´°
            const locDetails = {
                'tokyo': 'æ±äº¬éƒ½ã¯æ—¥æœ¬æœ€é«˜æ°´æº–ã®å¹´åãŒæœŸå¾…ã§ãã¾ã™ã€‚å¤šãã®ä¼æ¥­ãŒé›†ä¸­ã—ã€æ©Ÿä¼šã‚‚è±Šå¯Œã§ã™ã€‚',
                'osaka': 'å¤§é˜ªåºœã¯é–¢è¥¿åœã®ä¸­å¿ƒã§ã€å®‰å®šã—ãŸå¹´åãŒæœŸå¾…ã§ãã¾ã™ã€‚',
                'nagoya': 'æ„›çŸ¥çœŒã¯è£½é€ æ¥­ãŒå¼·ãã€å …å®Ÿãªå¹´åãŒæœŸå¾…ã§ãã¾ã™ã€‚',
                'fukuoka': 'ç¦å²¡çœŒã¯ä¹å·ã®ä¸­å¿ƒã§ã€ITä¼æ¥­ã®é€²å‡ºã‚‚å¢—ãˆã¦ã„ã¾ã™ã€‚',
                'other': 'åœ°æ–¹éƒ½å¸‚ã§ã¯å¹´åã¯æ§ãˆã‚ã§ã™ãŒã€ç”Ÿæ´»ã‚³ã‚¹ãƒˆã‚‚ä½ãã€QOLã¯é«˜ã„ã§ã™ã€‚',
                'remote': 'ãƒ•ãƒ«ãƒªãƒ¢ãƒ¼ãƒˆã«ã‚ˆã‚Šåœ°åŸŸã«ç¸›ã‚‰ã‚Œãªã„é«˜å¹´åãŒæœŸå¾…ã§ãã¾ã™ã€‚'
            };
            document.getElementById('locationDetail').textContent = locDetails[formData.location];

            // åƒãæ–¹è©³ç´°
            const workDetails = {
                'ses': 'SESã¯æ§˜ã€…ãªçµŒé¨“ã‚’ç©ã‚ã¾ã™ã€‚ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã—ã¦ä¸Šæµå·¥ç¨‹ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚',
                'sier': 'SIerã¯å®‰å®šã—ãŸå¹´åãŒæœŸå¾…ã§ãã¾ã™ã€‚å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çµŒé¨“ãŒå¼·ã¿ã§ã™ã€‚',
                'internal': 'ç¤¾å†…SEã¯å®‰å®šæ€§ã¨ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹ãŒé­…åŠ›ã§ã™ã€‚',
                'freelance': 'ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¯é«˜å¹´åãŒæœŸå¾…ã§ãã¾ã™ãŒã€å–¶æ¥­åŠ›ã‚‚é‡è¦ã§ã™ã€‚'
            };
            document.getElementById('workstyleDetail').textContent = workDetails[formData.workstyle];

            // ã‚¢ãƒ‰ãƒã‚¤ã‚¹ç”Ÿæˆ
            generateAdvice(salary);
        }

        function generateAdvice(salary) {
            let advice = '';

            // å¹´åãƒ¬ãƒ™ãƒ«åˆ¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹
            if (salary < 400) {
                advice += 'ğŸ“š <strong>ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ãŒæœ€å„ªå…ˆ</strong><br>åŸºç¤æŠ€è¡“ã®ç¿’å¾—ã¨å®Ÿå‹™çµŒé¨“ã‚’ç©ã¿é‡ã­ã¾ã—ã‚‡ã†ã€‚è³‡æ ¼å–å¾—ã‚‚æœ‰åŠ¹ã§ã™ã€‚<br><br>';
            } else if (salary < 600) {
                advice += 'ğŸ“ˆ <strong>å°‚é–€æ€§ã‚’æ·±ã‚ã¾ã—ã‚‡ã†</strong><br>ç‰¹å®šåˆ†é‡ã§ã®å°‚é–€æ€§ã‚’é«˜ã‚ã€ä¸Šæµå·¥ç¨‹ã¸ã®å‚ç”»ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚<br><br>';
            } else if (salary < 800) {
                advice += 'ğŸ¯ <strong>ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®</strong><br>æŠ€è¡“åŠ›ã«åŠ ãˆã¦ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚¹ã‚­ãƒ«ã®ç¿’å¾—ãŒå¹´åã‚¢ãƒƒãƒ—ã®éµã§ã™ã€‚<br><br>';
            } else {
                advice += 'ğŸ† <strong>å¸‚å ´ä¾¡å€¤ã®é«˜ã„ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ</strong><br>ç¾åœ¨ã®å°‚é–€æ€§ã‚’æ´»ã‹ã—ã€ã‚ˆã‚Šé«˜å˜ä¾¡ã®æ¡ˆä»¶ã‚„è»¢è·ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚<br><br>';
            }

            // åƒãæ–¹åˆ¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹
            if (formData.workstyle === 'ses') {
                advice += 'ğŸ’¡ <strong>SESã‹ã‚‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ãƒƒãƒ—</strong><br>å…ƒè«‹ã‘ä¼æ¥­ã¸ã®è»¢è·ã‚„ã€ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ç‹¬ç«‹ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚';
            } else if (formData.workstyle === 'sier') {
                advice += 'ğŸ’¡ <strong>SIerã§ã®æˆé•·æˆ¦ç•¥</strong><br>ä¸Šæµå·¥ç¨‹ã‚„ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆè·ã‚’ç›®æŒ‡ã—ã¦å¹´åã‚¢ãƒƒãƒ—ã‚’å›³ã‚Šã¾ã—ã‚‡ã†ã€‚';
            } else if (formData.workstyle === 'internal') {
                advice += 'ğŸ’¡ <strong>ç¤¾å†…SEã®ä¾¡å€¤å‘ä¸Š</strong><br>ITæˆ¦ç•¥ã‚„æ¥­å‹™æ”¹å–„ã®ææ¡ˆã§ç¤¾å†…ã§ã®è©•ä¾¡ã‚’é«˜ã‚ã¾ã—ã‚‡ã†ã€‚';
            } else {
                advice += 'ğŸ’¡ <strong>ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã®å˜ä¾¡ã‚¢ãƒƒãƒ—</strong><br>å¸Œå°‘æ€§ã®é«˜ã„ã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ã€é•·æœŸå¥‘ç´„ã‚’ç²å¾—ã—ã¾ã—ã‚‡ã†ã€‚';
            }

            document.getElementById('adviceContent').innerHTML = advice;
        }

        function shareTwitter() {
            const salary = document.getElementById('salaryAmount').textContent;
            const text = `SEå¹´åè¨ºæ–­ãƒ„ãƒ¼ãƒ«ã§è¨ºæ–­ã—ã¾ã—ãŸï¼\né©æ­£å¹´å: ${salary}\n\n#SEå¹´åè¨ºæ–­ #ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢`;
            const url = encodeURIComponent(window.location.href);
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${url}`);
        }

        function shareLine() {
            const salary = document.getElementById('salaryAmount').textContent;
            const text = `SEå¹´åè¨ºæ–­ãƒ„ãƒ¼ãƒ«ã§è¨ºæ–­ã—ã¾ã—ãŸï¼é©æ­£å¹´å: ${salary}`;
            const url = encodeURIComponent(window.location.href);
            window.open(`https://social-plugins.line.me/lineit/share?url=${url}&text=${encodeURIComponent(text)}`);
        }

        function restart() {
            // ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ
            Object.keys(formData).forEach(key => {
                if (Array.isArray(formData[key])) {
                    formData[key] = [];
                } else {
                    formData[key] = '';
                }
            });

            // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('input').forEach(input => {
                input.checked = false;
            });

            // ã‚¹ãƒ†ãƒƒãƒ—ãƒªã‚»ãƒƒãƒˆ
            currentStep = 1;
            document.getElementById('result').classList.remove('show');
            document.getElementById('step1').classList.add('active');
            updateProgress();
        }

        // åˆæœŸåŒ–
        updateProgress();

        // Google Analyticsç”¨ã®ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
        function trackEvent(action, label) {
            if (typeof gtag !== 'undefined') {
                gtag('event', action, {
                    event_category: 'SEå¹´åè¨ºæ–­',
                    event_label: label
                });
            }
        }

        // è¨ºæ–­å®Œäº†æ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡
        function trackCompletion(salary) {
            trackEvent('è¨ºæ–­å®Œäº†', `å¹´å${salary}ä¸‡å††`);
        }
    </script>
</body>
</html>